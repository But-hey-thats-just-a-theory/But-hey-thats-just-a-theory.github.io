@inject GameState GameState
@implements IDisposable

<div class="modal-footer" style="display:contents">
    <table>
        @foreach (Message message in MessageManager.GetReversedMessages())
        {
            <tr>
                <td>
                    <pre style="display: grid;margin: 0;width: 520px;font: message-box;white-space:pre-wrap;margin-bottom:-18px;color:@(message.Color);@(message.Style)">
                        @message.Text
                    </pre>
                </td>
            </tr>
        }

    </table>
</div>


@functions{

    protected override void OnInitialized()
    {
        GameState.StateChanged += OnGameStateChanged;
    }
    public void Dispose()
    {
        GameState.StateChanged -= OnGameStateChanged;
    }
    void OnGameStateChanged(object sender, EventArgs e) => StateHasChanged();
}